#!/bin/sh
bfile=~/.surf/bookmarks
[ $# -eq 1 ] && extarg="-b -w $1"
sel=$(cat $bfile | sed 's/\([^ ]*\) *\(.*\)/\2 \1/' | \
    dmenu -p 'Load Bookmark' -i -l 20 $extarg)
    [ -z "$sel" ] && exit
    cmd=$(echo $sel | cut -d ' ' -f 1)
    arg=$(echo $sel | cut -d ' ' -f 2-)
    case "$cmd" in
        "d") surf-open "https://duckduckgo.com/?q=$arg"
            ;;
        *) surf-open $(echo $sel | awk '{print $NF}')
            ;;
    esac
